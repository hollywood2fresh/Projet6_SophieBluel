
let divGalerie = document.querySelector(".gallery");

let index = 0



const reponse = await fetch('http://localhost:5678/api/works')
const projet = await reponse.json()


console.log(projet[0].title);

function affichageProjet() {
    for(let i = 0; i < projet.length; i++) {
    let figure = document.createElement('figure');
    divGalerie.append(figure);

    let imageWorks = document.createElement('img');
    let textWorks = document.createElement('figcaption');
    figure.append(imageWorks);
    figure.append(textWorks);

    imageWorks.src = projet[i].imageUrl
    textWorks.innerText = projet[i].title
}
}

affichageProjet()

const boutonFiltrerTous = document.querySelector(".btn-filter-objets")

boutonFiltrerTous.addEventListener('click', function() {
    const projetFilter = projet.filter(function (test) {
        return test.categoryId === 1
        
    })
    document.querySelector('.gallery').innerHTML = "";
    affichageProjet(projetFilter)
    console.log(projetFilter);
})



// const boutonFiltrer = document.querySelector(".btn-filtrer");

// boutonFiltrer.addEventListener("click", function () { // pas besoin de crÃ©er une copie de la liste : la fonction filter le fait pour nous
//     const piecesFiltrees = pieces.filter(function (piece) {
//         return piece.prix <= 35;
//     });
//     document.querySelector(".fiches").innerHTML = "";
//     genererPieces(piecesFiltrees);
// });